<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SitFit - Your Posture Companion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeInDown 0.8s ease-out;
        }

        .logo {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-bottom: 10px;
        }

        .subtitle {
            color: #fff;
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Main Dashboard */
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            flex: 1;
            animation: fadeInUp 0.8s ease-out 0.2s both;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }

        .card h2 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Timer Section */
        .timer-display {
            text-align: center;
            margin: 20px 0;
        }

        .time {
            font-size: 4rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 20px;
            font-family: 'Courier New', monospace;
        }

        .timer-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .btn-success {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(45deg, #ffeaa7, #fdcb6e);
            color: #333;
        }

        .btn-danger {
            background: linear-gradient(45deg, #fd79a8, #e84393);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        /* Settings */
        .setting-group {
            margin-bottom: 20px;
        }

        .setting-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        .setting-group input, .setting-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .setting-group input:focus, .setting-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        /* Statistics */
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Posture Tips */
        .tips-container {
            grid-column: 1 / -1;
            margin-top: 20px;
        }

        .tip-card {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            transition: transform 0.3s ease;
        }

        .tip-card:hover {
            transform: scale(1.02);
        }

        .tip-title {
            font-weight: 600;
            margin-bottom: 10px;
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #ff6b6b, #e55353);
            color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            animation: slideInRight 0.5s ease-out;
            max-width: 300px;
        }

        .notification.success {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: 8px;
        }

        /* Progress Bar */
        .progress-container {
            margin: 20px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
            }
            to {
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .logo {
                font-size: 2rem;
            }
            
            .time {
                font-size: 3rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .timer-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="logo">SitFit</h1>
            <p class="subtitle">Your intelligent posture companion for a healthier workday</p>
        </div>

        <div class="dashboard">
            <!-- Timer Card -->
            <div class="card">
                <h2>⏰ Posture Timer</h2>
                <div class="timer-display">
                    <div class="time" id="timer-display">25:00</div>
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                    </div>
                </div>
                <div class="timer-controls">
                    <button class="btn btn-success" id="start-btn">Start</button>
                    <button class="btn btn-warning" id="pause-btn">Pause</button>
                    <button class="btn btn-danger" id="reset-btn">Reset</button>
                    <button class="btn btn-primary" id="break-btn">Take Break</button>
                </div>
            </div>

            <!-- Settings Card -->
            <div class="card">
                <h2>⚙️ Settings</h2>
                <div class="setting-group">
                    <label for="work-duration">Work Duration (minutes)</label>
                    <input type="number" id="work-duration" min="1" max="120" value="25">
                </div>
                <div class="setting-group">
                    <label for="break-duration">Break Duration (minutes)</label>
                    <input type="number" id="break-duration" min="1" max="30" value="5">
                </div>
                <div class="setting-group">
                    <label for="notification-sound">Notification Sound</label>
                    <select id="notification-sound">
                        <option value="gentle">Gentle Chime</option>
                        <option value="alert">Alert Tone</option>
                        <option value="bell">Bell</option>
                        <option value="none">Silent</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label for="auto-start">Auto-start breaks</label>
                    <input type="checkbox" id="auto-start" checked>
                </div>
            </div>

            <!-- Statistics Card -->
            <div class="card">
                <h2>📊 Today's Statistics</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="sessions-today">0</div>
                        <div class="stat-label">Work Sessions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="breaks-taken">0</div>
                        <div class="stat-label">Breaks Taken</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="total-time">0h</div>
                        <div class="stat-label">Focus Time</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="posture-score">95%</div>
                        <div class="stat-label">Posture Score</div>
                    </div>
                </div>
            </div>

            <!-- Current Status Card -->
            <div class="card">
                <h2>🎯 Current Status</h2>
                <div id="status-display">
                    <p style="font-size: 1.1rem; margin-bottom: 15px;">Ready to start your focused work session!</p>
                    <p style="color: #666;">Click 'Start' to begin your posture-aware work timer.</p>
                </div>
                <div style="margin-top: 20px;">
                    <h3 style="margin-bottom: 10px;">Quick Posture Check:</h3>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 10px;">
                        <p>✓ Feet flat on floor</p>
                        <p>✓ Back straight against chair</p>
                        <p>✓ Screen at eye level</p>
                        <p>✓ Shoulders relaxed</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Posture Tips Section -->
        <div class="tips-container card">
            <h2>💡 Posture Tips & Exercises</h2>
            <div id="tips-container">
                <!-- Tips will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        class SitFit {
            constructor() {
                this.workDuration = 25 * 60; // 25 minutes in seconds
                this.breakDuration = 5 * 60; // 5 minutes in seconds
                this.currentTime = this.workDuration;
                this.isRunning = false;
                this.isBreak = false;
                this.timer = null;
                this.sessionsToday = 0;
                this.breaksTaken = 0;
                this.totalFocusTime = 0;
                
                this.initializeElements();
                this.loadSettings();
                this.loadStatistics();
                this.setupEventListeners();
                this.populateTips();
                this.updateDisplay();
                
                // Request notification permission
                if ('Notification' in window) {
                    Notification.requestPermission();
                }
            }

            initializeElements() {
                this.timerDisplay = document.getElementById('timer-display');
                this.progressFill = document.getElementById('progress-fill');
                this.startBtn = document.getElementById('start-btn');
                this.pauseBtn = document.getElementById('pause-btn');
                this.resetBtn = document.getElementById('reset-btn');
                this.breakBtn = document.getElementById('break-btn');
                this.statusDisplay = document.getElementById('status-display');
                
                this.workDurationInput = document.getElementById('work-duration');
                this.breakDurationInput = document.getElementById('break-duration');
                this.notificationSoundSelect = document.getElementById('notification-sound');
                this.autoStartCheckbox = document.getElementById('auto-start');
                
                this.sessionsTodayElement = document.getElementById('sessions-today');
                this.breaksTakenElement = document.getElementById('breaks-taken');
                this.totalTimeElement = document.getElementById('total-time');
                this.postureScoreElement = document.getElementById('posture-score');
            }

            setupEventListeners() {
                this.startBtn.addEventListener('click', () => this.toggleTimer());
                this.pauseBtn.addEventListener('click', () => this.pauseTimer());
                this.resetBtn.addEventListener('click', () => this.resetTimer());
                this.breakBtn.addEventListener('click', () => this.startBreak());
                
                this.workDurationInput.addEventListener('change', () => this.updateWorkDuration());
                this.breakDurationInput.addEventListener('change', () => this.updateBreakDuration());
                this.notificationSoundSelect.addEventListener('change', () => this.saveSettings());
                this.autoStartCheckbox.addEventListener('change', () => this.saveSettings());
            }

            toggleTimer() {
                if (this.isRunning) {
                    this.pauseTimer();
                } else {
                    this.startTimer();
                }
            }

            startTimer() {
                this.isRunning = true;
                this.startBtn.textContent = 'Running...';
                this.startBtn.className = 'btn btn-warning pulse';
                
                this.timer = setInterval(() => {
                    this.currentTime--;
                    this.updateDisplay();
                    
                    if (this.currentTime <= 0) {
                        this.timerComplete();
                    }
                }, 1000);

                this.updateStatus();
            }

            pauseTimer() {
                this.isRunning = false;
                this.startBtn.textContent = 'Resume';
                this.startBtn.className = 'btn btn-success';
                clearInterval(this.timer);
                this.updateStatus();
            }

            resetTimer() {
                this.isRunning = false;
                clearInterval(this.timer);
                this.currentTime = this.isBreak ? this.breakDuration : this.workDuration;
                this.startBtn.textContent = 'Start';
                this.startBtn.className = 'btn btn-success';
                this.updateDisplay();
                this.updateStatus();
            }

            startBreak() {
                this.isBreak = true;
                this.currentTime = this.breakDuration;
                this.breaksTaken++;
                this.updateStatistics();
                this.showNotification('Break Time! 🧘‍♂️', 'Time to stretch and improve your posture!');
                
                if (this.autoStartCheckbox.checked) {
                    this.startTimer();
                }
                
                this.updateDisplay();
                this.updateStatus();
            }

            timerComplete() {
                this.isRunning = false;
                clearInterval(this.timer);
                
                if (this.isBreak) {
                    // Break completed
                    this.isBreak = false;
                    this.currentTime = this.workDuration;
                    this.showNotification('Break Complete! 💪', 'Ready to get back to focused work!');
                } else {
                    // Work session completed
                    this.sessionsToday++;
                    this.totalFocusTime += this.workDuration;
                    this.showNotification('Work Session Complete! 🎉', 'Time for a posture break!');
                    
                    if (this.autoStartCheckbox.checked) {
                        this.startBreak();
                        return;
                    } else {
                        this.currentTime = this.breakDuration;
                        this.isBreak = true;
                    }
                }
                
                this.startBtn.textContent = 'Start';
                this.startBtn.className = 'btn btn-success';
                this.updateStatistics();
                this.updateDisplay();
                this.updateStatus();
            }

            updateDisplay() {
                const minutes = Math.floor(this.currentTime / 60);
                const seconds = this.currentTime % 60;
                this.timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const totalDuration = this.isBreak ? this.breakDuration : this.workDuration;
                const progress = ((totalDuration - this.currentTime) / totalDuration) * 100;
                this.progressFill.style.width = `${progress}%`;
            }

            updateStatus() {
                let status = '';
                if (this.isRunning && this.isBreak) {
                    status = '<p style="color: #4ecdc4; font-size: 1.2rem; font-weight: 600;">🧘‍♂️ Break Time Active</p><p>Stretch, move around, and reset your posture!</p>';
                } else if (this.isRunning && !this.isBreak) {
                    status = '<p style="color: #667eea; font-size: 1.2rem; font-weight: 600;">⏰ Work Session Active</p><p>Stay focused and maintain good posture!</p>';
                } else if (this.isBreak) {
                    status = '<p style="color: #4ecdc4; font-size: 1.1rem;">Ready for your break!</p><p>Click Start to begin your posture break.</p>';
                } else {
                    status = '<p style="color: #333; font-size: 1.1rem;">Ready to work!</p><p>Click Start to begin your focused work session.</p>';
                }
                this.statusDisplay.innerHTML = status;
            }

            updateWorkDuration() {
                const minutes = parseInt(this.workDurationInput.value);
                this.workDuration = minutes * 60;
                if (!this.isBreak && !this.isRunning) {
                    this.currentTime = this.workDuration;
                    this.updateDisplay();
                }
                this.saveSettings();
            }

            updateBreakDuration() {
                const minutes = parseInt(this.breakDurationInput.value);
                this.breakDuration = minutes * 60;
                if (this.isBreak && !this.isRunning) {
                    this.currentTime = this.breakDuration;
                    this.updateDisplay();
                }
                this.saveSettings();
            }

            showNotification(title, message) {
                // Browser notification
                if ('Notification' in window && Notification.permission === 'granted') {
                    new Notification(title, {
                        body: message,
                        icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">🪑</text></svg>'
                    });
                }

                // Visual notification
                const notification = document.createElement('div');
                notification.className = this.isBreak ? 'notification success' : 'notification';
                notification.innerHTML = `
                    <div class="notification-title">${title}</div>
                    <div>${message}</div>
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 5000);

                // Sound notification
                this.playNotificationSound();
            }

            playNotificationSound() {
                const soundType = this.notificationSoundSelect.value;
                if (soundType === 'none') return;

                // Create audio context for web audio
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                let frequency = 800;
                switch(soundType) {
                    case 'gentle': frequency = 600; break;
                    case 'alert': frequency = 1000; break;
                    case 'bell': frequency = 800; break;
                }
                
                oscillator.frequency.value = frequency;
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.5);
            }

            updateStatistics() {
                this.sessionsTodayElement.textContent = this.sessionsToday;
                this.breaksTakenElement.textContent = this.breaksTaken;
                this.totalTimeElement.textContent = `${Math.floor(this.totalFocusTime / 3600)}h`;
                
                // Calculate posture score based on breaks taken vs sessions
                let score = 100;
                if (this.sessionsToday > 0) {
                    const breakRatio = this.breaksTaken / this.sessionsToday;
                    score = Math.min(100, Math.max(60, Math.round(breakRatio * 100 + 60)));
                }
                this.postureScoreElement.textContent = `${score}%`;
                
                this.saveStatistics();
            }

            populateTips() {
                const tips = [
                    {
                        title: "The 20-20-20 Rule",
                        content: "Every 20 minutes, look at something 20 feet away for 20 seconds to reduce eye strain."
                    },
                    {
                        title: "Desk Height Check",
                        content: "Your elbows should be at a 90-degree angle when typing. Adjust your chair or desk accordingly."
                    },
                    {
                        title: "Monitor Position",
                        content: "The top of your screen should be at or below eye level, about an arm's length away."
                    },
                    {
                        title: "Neck Stretches",
                        content: "Gently tilt your head side to side and forward/backward to release neck tension."
                    },
                    {
                        title: "Shoulder Rolls",
                        content: "Roll your shoulders backward in a circular motion 10 times to release tension."
                    }
                ];

                const container = document.getElementById('tips-container');
                tips.forEach(tip => {
                    const tipCard = document.createElement('div');
                    tipCard.className = 'tip-card';
                    tipCard.innerHTML = `
                        <div class="tip-title">${tip.title}</div>
                        <div>${tip.content}</div>
                    `;
                    container.appendChild(tipCard);
                });
            }

            saveSettings() {
                const settings = {
                    workDuration: this.workDuration,
                    breakDuration: this.breakDuration,
                    notificationSound: this.notificationSoundSelect.value,
                    autoStart: this.autoStartCheckbox.checked
                };
                // In a real app, you would save to localStorage or a database
                console.log('Settings saved:', settings);
            }

            loadSettings() {
                // In a real app, you would load from localStorage or a database
                // For now, using default values
            }

            saveStatistics() {
                const stats = {
                    sessionsToday: this.sessionsToday,
                    breaksTaken: this.breaksTaken,
                    totalFocusTime: this.totalFocusTime,
                    date: new Date().toDateString()
                };
                // In a real app, you would save to localStorage or a database
                console.log('Statistics saved:', stats);
            }

            loadStatistics() {
                // In a real app, you would load from localStorage or a database
                // For now, starting with zeros
            }
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new SitFit();
        });
    </script>
</body>
</html>